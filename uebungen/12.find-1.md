# Übungen zu find

## Vorbereitung der Übungsumgebung

Bevor du mit den Übungen beginnst, erstelle eine Testumgebung in deinem Home-Verzeichnis:

```bash
# Wechsle in dein Home-Verzeichnis
cd ~

# Erstelle die Übungsstruktur
mkdir -p find-uebungen/projekte/{projekt-a,projekt-b,projekt-c}
mkdir -p find-uebungen/dokumente/{berichte,notizen,archiv}
mkdir -p find-uebungen/scripts
mkdir -p find-uebungen/logs/{2023,2024,2025}
mkdir -p find-uebungen/temp

# Erstelle verschiedene Testdateien
touch find-uebungen/projekte/projekt-a/{main.py,test.py,README.md,config.json}
touch find-uebungen/projekte/projekt-b/{app.js,package.json,index.html,.env}
touch find-uebungen/projekte/projekt-c/{Makefile,main.c,header.h}
touch find-uebungen/dokumente/berichte/{quartal1.txt,quartal2.txt,jahresbericht.pdf}
touch find-uebungen/dokumente/notizen/{meeting-notes.txt,ideen.md,todo.txt}
touch find-uebungen/dokumente/archiv/{alt-2020.txt,alt-2021.txt}
touch find-uebungen/scripts/{backup.sh,deploy.sh,cleanup.py}
touch find-uebungen/logs/2023/{app.log,error.log,access.log}
touch find-uebungen/logs/2024/{app.log,error.log}
touch find-uebungen/logs/2025/{app.log}
touch find-uebungen/temp/{tmp1,tmp2,tmp3}

# Setze verschiedene Berechtigungen
chmod 755 find-uebungen/scripts/*.sh
chmod 644 find-uebungen/dokumente/berichte/*
chmod 600 find-uebungen/projekte/projekt-b/.env
chmod 777 find-uebungen/temp

# Erstelle Dateien mit unterschiedlichen Größen
echo "Kleine Datei" > find-uebungen/kleine.txt
dd if=/dev/zero of=find-uebungen/mittel.dat bs=1M count=5 2>/dev/null
dd if=/dev/zero of=find-uebungen/gross.dat bs=1M count=15 2>/dev/null

# Erstelle Dateien mit unterschiedlichem Alter
touch -t 202301150830 find-uebungen/dokumente/archiv/alt-2020.txt
touch -t 202312010900 find-uebungen/logs/2023/app.log
touch -t 202312010900 find-uebungen/logs/2023/app.log
touch -d "6 days ago" find-uebungen/projekte/projekt-a/{main.py,test.py}
touch -d "3 days ago" find-uebungen/projekte/projekt-b/index.html
touch -d "29 days ago" find-uebungen/dokumentte/notizen/meeting-notes.txt
touch -d "19 hours ago" find-uebungen/scripts/backup.sh
touch -d "40 min ago" find-uebungen/scripts/deploy.sh
touch -d "1 min ago" find-uebungen/logs/2025/app.log
```
## Übung 1: Grundlegende Dateisuche

1. Finde alle Dateien im Verzeichnis `find-uebungen`. Nutze die kurzmöglichste Syntax dafür.
2. Finde alle Dateien mit der Endung `.txt`
3. Finde alle Dateien, die `log` im Namen enthalten
4. Finde die Datei `README.md`


>[!NOTE]
> Schau dir die Syntax von `find` in der Manpage an. Die Suche von `find` kann über *Tests* beeinflusst werden. Suche also in der Manpage nach dem Abschnitt `TESTS`. Für diese Übung ist der Test `-name` hilfreich. 
> `find` kann auch mit Wildcards wie `*` umgehen. Wir müssen nur dafür sorgen, dass das `*` von `find` interpretiert wird und nicht von der Shell...

## Übung 2: Unterscheidung zwischen Dateien und Verzeichnissen

1. Finde nur die Verzeichnisse in `find-uebungen`
2. Finde alle reguläre Dateien (aber keine Verzeichnisse)
3. Zähle, wie viele Verzeichnisse existieren
4. Zähle, wie viele reguläre Dateien existieren

>[!NOTE]
> Nutze den Test `-type`

## Übung 3: Suche nach Dateigrößen

1. Finde alle Dateien, die größer als 1 MB sind
2. Finde alle Dateien, die kleiner als 100 KB sind
3. Finde alle Dateien zwischen 1 MB und 10 MB

>[!NOTE]
> Nutze den Test `-size`

>[!NOTE]
> Die beiden Zusatzaufgaben lassen sich vielleicht besser lösen, nachdem ihr Übung 7 gemacht habt. Da lernt ihr das Grundprinzip dahinter kennen.

>[!NOTE]
> Eine große Stärke von `find` ist es, auf jede gefundene Datei ein Kommando anzuwenden. Schau doch mal nach `-exec` in der Manpage. Die Syntax ist eventuell etwas schräg: `-exec <command> {} \;`. `<command>` steht für das auszuführende Kommando (mit/ohne Optionen) und die jeweilige gefundene Datei wird an Stelle von `{}` gesetzt. Mit `\;` schliessen wir das Kommando ab.

**Zusatzaufgabe 1:** Schaffst du es auch, dir die Größe der gefundenen Dateien mit anzeigen zu lassen? 

**Zusatzaufgabe 2:** Kannst du dir auch ausschliesslich die größte Datei anzeigen lassen?

## Übung 4: Zeitbasierte Suche, Änderungsdatum von Dateien

1. Finde alle Dateien, die in den letzten 7 Tagen geändert wurden
2. Finde alle Dateien, die vor mehr als 30 Tagen geändert wurden
3. Finde alle Dateien, die in den letzten 20 Stunden geändert wurden
4. Finde alle Dateien, die vor exakt 7 Tagen geändert wurden
5. Finde alle Dateien, die in den letzten 40 Minuten geändert wurden
6. Finde alle Dateien, die älter sind als 2 Jahre

>[!NOTE]
> Es gibt mehrere Möglichkeiten, eine zeitbasierte Suche mit `find` durchzuführen. Wir finden hier `-amin, -atime, -cmin, -ctime, -mmin, and -mtime`. Mach dir die Unterschiede zwischen den einzelnen Tests klar. Wir wollen hier nach Dateien suchen, die zu einer bestimmten Zeit *geändert* wurden.

7. Was ist also der Unterschied zwischen `-mtime`, `-atime` und `-ctime`?
8. Und was ist der Unterschied zwischen `-mtime` und `-mmin` bzw. zwischen `-atime` und `-amin` bzw. `-ctime` und `-cmin`?

